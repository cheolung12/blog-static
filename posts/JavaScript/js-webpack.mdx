---
title: 'Webpack'
date: '2024-03-19'
description: 'webpack, loader, babel, plugin, devtool, bundle analyzer'
category: 'Library'
thumbnail: '/thumbnail/webpack.jpg'
---

## ëª©ì°¨

# ì›¹íŒ©ì´ë€?
> ì˜¤í”ˆ ì†ŒìŠ¤ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆ ë²ˆë“¤ëŸ¬ë¡œì¨ <span className='emphasis'>ì—¬ëŸ¬ê°œë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆëŠ” íŒŒì¼ë“¤ì„ í•˜ë‚˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¡œ ì••ì¶•í•˜ê³  ìµœì í™”í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬</span>

## ì›¹íŒ©ì˜ ì¥ì 
![bundle](https://github.com/cheolung12/cheolung.dev/assets/109952479/8af90ec5-c499-46d6-9699-298a90588bd2)
1. ì—¬ëŸ¬ íŒŒì¼ì˜ ëª¨ë“  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì••ì¶•í•˜ì—¬ ìµœì í™” í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë¡œë”©ì— ëŒ€í•œ ë„¤íŠ¸ì›Œí¬ ë¹„ìš©ì„ ì¤„ì¼ ìˆ˜ ìˆë‹¤.
2. ëª¨ë“ˆ ë‹¨ìœ„ë¡œ ê°œë°œì´ ê°€ëŠ¥í•˜ë©°, ê°€ë…ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ë‹¤.

---

# ğŸ§‘ğŸ»â€ğŸ’» ì›¹íŒ© ì§ì ‘ ë§Œë“¤ê¸°
**ğŸ¤” ê·¸ë™ì•ˆì€ ì™œ ì§ì ‘ ì•ˆ ë§Œë“¤ì—ˆì§€? (Create-React-App)**

CRAë¥¼ í™œìš©í•˜ì—¬ ë¦¬ì•¡íŠ¸ë¥¼ ì„¤ì¹˜í•˜ë©´ ì›¹íŒ©ì„ ì‚¬ìš©í•´ì„œ ê°œë°œí™˜ê²½ì„ ìƒì„±í•œë‹¤. ë•ë¶„ì— ì•„ë¬´ ì„¤ì •ì—†ì´ ë‹¤ë¥¸ íŒŒì¼ì— ìˆëŠ” í•¨ìˆ˜ë¥¼ importí•˜ê³  ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ê³ , CSSê°€ ë°”ë¡œ ì ìš©ë˜ëŠ” íš¨ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë˜ ê²ƒì´ë‹¤.

## webpack ì„¤ì¹˜ (import êµ¬í˜„í•´ë³´ê¸°)
ì›¹íŒ©ì´ ì—†ëŠ” ìƒíƒœì—ì„œëŠ” importê°€ ë™ì‘ì„ í•˜ì§€ ì•ŠëŠ”ë‹¤.

`src` í´ë” (ì†ŒìŠ¤ ì½”ë“œê°€ ë‹´ê¸° í´ë”), `dist` í´ë”(ì••ì¶•ëœ íŒŒì¼ì´ ë‹´ê¸¸ í´ë”)ë¥¼ ë¨¼ì € ìƒì„±

```bash
npm init -y
npm i -D webpack webpack-cli
```
### ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì„¤ì •
```json:package.json
// ...
"scripts": {
    // ...
    "build": "webpack --mode production" // ì¶”ê°€
  },
```
- `npm init`ì„ í•˜ë©´ ìƒì„±ë˜ëŠ” package.jsoníŒŒì¼ì— ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•œë‹¤.
- í•´ë‹¹ ëª…ë ¹ì–´ ì‹¤í–‰ ì‹œ ì½”ë“œ ë³€í™˜(ì••ì¶•)

### webpack ì„¤ì • íŒŒì¼ ìƒì„±
```js:webpack.config.js
const path = require("path");  // nodejsì— ë‚´ì¥ë˜ì–´ìˆìŒ. 

module.exports = {
    mode: 'development',
    // ì‹œì‘ì  (ì†ŒìŠ¤ì½”ë“œ)
    entry: path.resolve(__dirname, 'src/index.js'),
    // ê²°ê³¼ë¬¼
    output: {
        path: path.resolve(__dirname, 'dist'),
        filename: 'main.js'
    },
}
```
- `npm build`ë¡œ ë¹Œë“œ
- `src/index.js`ì— ìˆëŠ” íŒŒì¼ì´ ë¹Œë“œí•˜ë©´ `dist/main.js`ë¡œ ë³€í™˜ë¨ 
- ì´ì œ jsíŒŒì¼ì„ import, exportë¥¼ í™œìš©í•˜ì—¬ ëª¨ë“ˆí™”í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.


---

# ğŸ–‡ï¸ Webpack Loader
ë¡œë”(Loader)ëŠ” ì›¹íŒ©ì´ ì›¹ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ í•´ì„í•  ë•Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì´ ì•„ë‹Œ ì›¹ ìì›(HTML, CSS, Image, í°íŠ¸ ë“±)ì„ ë³€í™˜í•  ìˆ˜ ìˆë„ë¡ ë„ì™€ì£¼ëŠ” ì†ì„±ì´ë‹¤.

## ì„¤ì¹˜ 
```bash
npm i -D css-loader style-loader
```

## css-loader
```jsx:???.jsx
import React from 'react';
import './style/global.css';  // ê°€ëŠ¥
```
- js/jsxì™€ ê°™ì€ íŒŒì¼ì—ì„œ css íŒŒì¼ì„ ë¶ˆëŸ¬ì™€ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¡œë”
- importí•œë‹¤ëŠ” ê²ƒì€ cssíŒŒì¼ì„ í•˜ë‚˜ì˜ ëª¨ë“ˆë¡œ ì·¨ê¸‰í•˜ì—¬ jsíŒŒì¼ì—ì„œ ë¶ˆëŸ¬ ì‚¬ìš©í•œë‹¤ëŠ” ëœ»

## style-loader
> inject CSS in the DOM
- css-loaderë¥¼ ì´ìš©í•´ ì›¹íŒ© ì˜ì¡´ì„± íŠ¸ë¦¬ì— ì¶”ê°€í•œ í›„ì— cssì— ì‘ì„±í•œ string ê°’ë“¤ì„ style-loaderë¥¼ ì´ìš©í•˜ì—¬ ë”ì— `<style> </style>`ë¡œ ë„£ì–´ì¤€ë‹¤.
- style-loaderëŠ” css-headerë¥¼ ì´ìš©í•´ì„œ jsíŒŒì¼ì— ë¶ˆëŸ¬ë“¤ì—¬ì§„ ìŠ¤íƒ€ì¼ íŒŒì¼ì´ html íŒŒì¼ ì•ˆì— style íƒœê·¸ë¡œ ì¡´ì¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.

## ì ìš©
```js:webpack.config.js
// ...
module: {
        rules: [
            // css/style loader ì ìš©
            {
                test: /\.css$/i,
                use: [
                    'style-loader',
                    'css-loader',
                ]
            },
        ]
}
// ...
```
- <span className='red-bold'>css-loaderë¶€í„° ì‘ë™í•˜ê³  style-loaderê°€ ì‘ë™í•´ì•¼ í•œë‹¤.</span> (sassë¥¼ ì‚¬ìš©í•œë‹¤ë©´ sass-loader ë¨¼ì € ì‹¤í–‰)

=> webpack.config.jsíŒŒì¼ì˜ ~ì— ì—­ìˆœìœ¼ë¡œ ë„£ì–´ì£¼ë©´ëœë‹¤.

- `test` : ë¡œë”ë¥¼ ì ìš©í•  íŒŒì¼ ìœ í˜• (ì¼ë°˜ì ìœ¼ë¡œ ì •ê·œí‘œí˜„ì‹ ì‚¬ìš©)
- `use` : í•´ë‹¹ íŒŒì¼ì— ì ìš©í•  ë¡œë”ì˜ ì´ë¦„, ë°°ì—´ ì•ˆì— ìˆëŠ” ê°’ë“¤ì˜ <span className='red-bold'>ì—­ìˆœìœ¼ë¡œ ì‘ë™</span>

---

# ğŸ“„ HTML Webpack Plugin
ì›¹íŒ©ì´ html íŒŒì¼ì„ ì½ì–´ì„œ html íŒŒì¼ì„ ë¹Œë“œí•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
## ì„¤ì¹˜
```bash
npm i -D html-webpack-plugin
```
## ì ìš©
```js:webpack.config.js
const HtmlWebpackPlugin = require("html-webpack-plugin");
// ...
    plugins: [
            // html í”ŒëŸ¬ê·¸ì¸
            new HtmlWebpackPlugin({
                // templateì— ìˆëŠ” index.htmlì´ ë¹Œë“¤ë¥´ í†µí•´ outputê²½ë¡œì— ìˆëŠ” index.htmlë¡œ ë§Œë“¤ì–´ì§
                filename: 'index.html',
                template: 'src/index.html'
            }),
        ],
// ...
```
- ì ìš© í›„ ë¹Œë“œí•˜ë©´ html íŒŒì¼ë„ dist í´ë”ì— ë³€í™˜ì´ ë˜ì–´ìˆëŠ”ê±¸ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---

# ğŸ’½ Webpack Caching
ì›¹íŒ© ì»´íŒŒì¼ë¡œ ìƒì„±ëœ íŒŒì¼ì—ì„œ <u>ë³€ê²½ëœ ë‚´ìš©ì´ ì—†ë‹¤ë©´ ë¸Œë¼ìš°ì €ëŠ” ìºì‹œ ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.</u>

ì—¬ê¸°ì„œ ë¸Œë¼ìš°ì €ê°€ ë³€ê²½ ì‚¬í•­ì„ í™•ì¸í•˜ëŠ” ë°©ë²•ì€ <u>íŒŒì¼ ì´ë¦„</u>ì´ë‹¤.

=> íŒŒì¼ì„ ìƒì„±í•  ë•Œ <span className='highlight'>í•´ì‰¬ ê°’ì„ ì¤˜ì„œ ë¸Œë¼ìš°ì €ì—ê²Œ íŒŒì¼ì´ ë³€í–ˆë‹¤ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ì!</span>

=> webpack.config.jsì˜ output ì†ì„±ì— filenameì„ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©

```js:webpack.config.js
// ...
    output: {
        path: path.resolve(__dirname, 'dist'),
        filename: '[name].[contenthash].js'
    },
// ...
```

![hash](https://github.com/cheolung12/cheolung.dev/assets/109952479/860bb82a-10dc-41c9-be6b-f1afada85245)
- íŒŒì¼ëª…ì´ í•´ì‹œê°’ê³¼ í•¨ê»˜ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•´ë³¼ ìˆ˜ ìˆë‹¤.
- ë³€ê²½ ì‚¬í•­ì´ ìˆì„ ê²½ìš°ë§Œ ë¹Œë“œ ì‹œ ìƒˆ íŒŒì¼ì´ ìƒì„±ëœë‹¤.

### ğŸ¤” ì´ì „ í•´ì‹œ íŒŒì¼ì„ ì§€ìš°ë ¤ë©´?

ë³€ê²½ ì‚¬í•­ì€ ê³„ì†í•´ì„œ ìƒê¸¸ê²ƒì´ê³ , íŒŒì¼ì´ ì—¬ëŸ¬ê°œ ìŒ“ì´ëŠ”ê±´ ì¢‹ì§€ ì•Šë‹¤. 
=> `clean: true` ì˜µì…˜ ì¶”ê°€

```js:webpack.config.js
// ...
    output: {
        path: path.resolve(__dirname, 'dist'),
        filename: '[name].[contenthash].js',
        clean: true  // ì¶”ê°€
    },
// ...
```

---

# ğŸŒ Webpack Development Server
ë¼ì´ë¸Œì„œë²„ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ì„œë²„ë¥¼ ì¼œë³´ì (ë¦¬ì•¡íŠ¸ì²˜ëŸ¼)
1. ì„¤ì¹˜
```bash
npm i -D webpack-dev-server
```
2. ì„¤ì • íŒŒì¼ì— ì¶”ê°€
```js:webpack.config.js
// ...
     devServer: {
        static: {
            directory: path.join(__dirname, 'dist') // output ê²½ë¡œ
        },
        compress: true,  // ì œê³µë˜ëŠ” ëª¨ë“  í•­ëª©ì— ëŒ€í•´ gzipì••ì¶• í™œì„±í™”
        port: 3001, // ì‹¤í–‰í•  í¬íŠ¸ë²ˆí˜¸
        open: true  // ì„œë²„ ì‹œì‘ í›„ ë°”ë¡œ ë¸Œë¼ìš°ì € ì—´ê¸°
    }
// ...
```
3. ìŠ¤í¬ë¦½íŠ¸ ì¶”ê°€
```json:package.json
"scripts": {
    // ...
    "dev": "webpack serve"
  },
```
4. `npm run dev` ë¡œ ì‹¤í–‰

## gzip ì••ì¶•
ìœ„ì—ì„œ `compress: true`ë¡œ ì„¤ì •í–ˆì„ë•Œ gzipì••ì¶•ì„ í•œë‹¤ í–ˆëŠ”ë° ì´ê²Œ ë­˜ê¹Œ?
> íŒŒì¼ ì••ì¶• ë° ì••ì¶• í•´ì œì— ì‚¬ìš©ë˜ëŠ” íŒŒì¼ í˜•ì‹ìœ¼ë¡œ, íŒŒì¼ í¬ê¸°ë¥¼ ë” ì‘ê²Œ ë§Œë“¤ì–´ ë” ë¹ ë¥¸ ë„¤íŠ¸ì›Œí¬ ì „ì†¡ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” Deflate ì•Œê³ ë¦¬ì¦˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì›¹ ì„œë²„ì™€ ìµœì‹  ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ëœë‹¤.
---

# ğŸ§­ Devtool
ì´ ì˜µì…˜ì€ ì†ŒìŠ¤ ë§µ(Source Map)ì´ ìƒì„±ë˜ëŠ”ì§€ ì—¬ë¶€ì™€ ìƒì„± ë°©ë²•ì„ ì œì–´í•œë‹¤.

## Source Map

ì›¹ ì‚¬ì´íŠ¸ë¥¼ ì‰½ê²Œ ì„±ëŠ¥ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ë²•ì¤‘ í•˜ë‚˜ëŠ” <span className='blue-bold'>JS ë° CSS íŒŒì¼ì„ ê²°í•©í•˜ê³  ì••ì¶•í•˜ëŠ” ê²ƒ</span>

í•˜ì§€ë§Œ ì´ëŸ¬í•œ <span className='red-bold'>ì••ì¶•íŒŒì¼ì—ì„œ ì½”ë“œë¥¼ ë””ë²„ê·¸ í•˜ëŠ” ê²ƒì€ ë§¤ìš° ì–´ë µë‹¤.</span> (ìš°ë¦¬ê°€ ì§ì ‘ ì§  ì½”ë“œë„ ì•„ë‹ˆê³ , ì••ì¶• ë˜ì–´ ìˆê¸° ë•Œë¬¸ì— ì½”ë“œê°€ ë³µì¡í•¨)
![sourcemap](https://github.com/cheolung12/cheolung.dev/assets/109952479/391fb52a-17f1-418e-9802-b277b0af84f6)

=> <span className='highlight'>ì†ŒìŠ¤ ë§µì„ í™œìš©í•´ì„œ ì••ì¶•íŒŒì¼ì„ ë””ë²„ê·¸ í•  ìˆ˜ ìˆë‹¤!</span>

ì†ŒìŠ¤ë§µì€ ì••ì¶• íŒŒì¼ ë‚´ì˜ ì½”ë“œë¥¼ ì†ŒìŠ¤ íŒŒì¼ì˜ ì›ë˜ ìœ„ì¹˜ë¡œ ë‹¤ì‹œ ë§¤í•‘í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•œë‹¤.

## ì ìš©
```js:webpack.config.js
  // ...
  devtool: 'source-map',
  // ...
```
![map](https://github.com/cheolung12/cheolung.dev/assets/109952479/e19ed9cc-f632-4f08-be82-3eaa1fabccb8)
- ë¹Œë“œë¥¼ í•˜ê³  ë‚˜ë©´ ë¹Œë“œí•œ íŒŒì¼ì„ ì›ë³¸íŒŒì¼ê³¼ ì—°ê²°í•´ì£¼ëŠ” map íŒŒì¼ì´ ìƒì„±ë˜ê³  ë¸Œë¼ìš°ì €ì—ì„œë„ ì›ë³¸ ì†ŒìŠ¤ê°€ ë³´ì´ê²Œ ëœë‹¤.
- ì¶”ê°€ ì ì¸ ì˜µì…˜ì€ ì•„ë˜ ê³µì‹ ë¬¸ì„œ ì°¸ê³ 

    [https://webpack.js.org/configuration/devtool/](https://webpack.js.org/configuration/devtool/)

---

# ğŸ”„ Babel Loader

## ë°”ë²¨ì´ë€?
> ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ë“¤ì„ ìœ„í•´ì„œ ìµœì‹  ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì„ êµ¬í˜• ë¸Œë¼ìš°ì €ì—ì„œë„ ëŒì•„ê°ˆìˆ˜ ìˆê²Œ ë³€í™˜ ì‹œì¼œì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬

ì´ ë°”ë²¨ì„ <u className='highlight'>ì›¹íŒ©ìœ¼ë¡œ íŒŒì¼ì„ ë²ˆë“¤ë§í•  ë•Œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê²ƒì´ babel-loaderì´ë‹¤.</u>

## ì„¤ì¹˜
```bash
npm i -D babel-loader @babel/core @babel/preset-env
```

## ì ìš©
```js:webpack.config.js
// ...
    module: {
            rules: [
                // ...
                // babel-loader ì ìš©
                {
                    test: /\.js$/,  // jsë¥¼ ë°”ê¿”ì¤„ê±°ë‹ˆê¹Œ
                    exclude: /node_modules/,  // node_modules ì œì™¸
                    use: {
                        loader: 'babel-loader',
                        options: {
                            presets: ['@babel/preset-env']
                        }
                    }
                }
            ]
        },
        // ...
```

---

# ğŸï¸ Resource Asset
í˜„ì¬ê¹Œì§€ì˜ ì›¹íŒ© ì„¤ì •ìœ¼ë¡œëŠ” png, svg, jpegë“±ì˜ ì´ë¯¸ì§€ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ë‹¤.

ex) `import Image from ./assets/~~~.png` 

config íŒŒì¼ì— ì„¤ì •ì„ ì¶”ê°€í•´ì„œ í•´ê²°í•˜ì
```js:webpack.config.js
    // ...
    output: {
        // ...
        assetModuleFilename: '[name][extension]' // imageê°€ ë¹Œë“œë ë•Œ ì›ë˜ ì´ë¦„ìœ¼ë¡œ
    },
    module: {
        rules: [
            // ...
            {
                test: /\.(png|svg|jpg|jpeg|gif)$/,  // í—ˆìš©í•  í™•ì¥ìëª…ë“¤
                type: 'asset/resource'  
            }
        ]
    },
    // ...
```

---


# ğŸ” Bundle Analyzer
ë²ˆë“¤ ë¶„ì„ ë„êµ¬ì´ë‹¤.
- ë²ˆë“¤ ë‚´ë¶€ì— ë¬´ì—‡ì´ ìˆëŠ”ì§€ íŒŒì•…
- í¬ê¸°ë¥¼ ê°€ì¥ ë§ì´ ì°¨ì§€í•˜ëŠ” ëª¨ë“ˆ ì•Œì•„ë³´ê¸°
- ìµœì í™”
- ì¶•ì†Œëœ ë²ˆë“¤ì„ ì§€ì›ëœë‹¤
- gzipped í¬ê¸°ë¥¼ í™•ì¸

## ì„¤ì¹˜
```bash
npm i -D webpack-bundle-analyzer
```

## ì ìš©
```js:webpack.config.js
const BundleAnalyzerPlugin = require("webpack-bundle-analyzer").BundleAnalyzerPlugin;
// ...
    plugins: [
           // ...
           new BundleAnalyzerPlugin()
        ],
// ...
```
- ì´ í›„ `npm run dev`ë¡œ ì‹¤í–‰ ì‹œ analyzerê°€ ê°™ì´ ì—´ë¦°ë‹¤.
![analyzer](https://github.com/cheolung12/cheolung.dev/assets/109952479/4c4146dc-7cf3-461d-b470-4bec6214b189)

---

# ğŸ’» ëª¨ë“  ì½”ë“œ 
## ì„¤ì¹˜ ì½”ë“œ
```bash
npm init -y
npm i -D webpack webpack-cli css-loader style-loader webpack-dev-server babel-loader @babel/core @babel/preset-env webpack-bundle-analyzer
```

## ì ìš© ì½”ë“œ (webpack.config.js)
```js:webpack.config.js
const path = require('path'); // nodejsì— ë‚´ì¥ë˜ì–´ìˆìŒ.
const HtmlWebpackPlugin = require('html-webpack-plugin');
const BundleAnalyzerPlugin =
  require('webpack-bundle-analyzer').BundleAnalyzerPlugin;

module.exports = {
  mode: 'development',
  // ì‹œì‘ì  (ì†ŒìŠ¤ì½”ë“œ)
  entry: path.resolve(__dirname, 'src/index.js'),
  // ê²°ê³¼ë¬¼
  output: {
    path: path.resolve(__dirname, 'dist'),
    filename: '[name].[contenthash].js', // í•´ì‹œê°’ìœ¼ë¡œ íŒŒì¼ ì €ì¥
    clean: true, // ì´ì „ í•´ì‹œ íŒŒì¼ ì‚­ì œ
    assetModuleFilename: '[name][extension]', // imageê°€ ë¹Œë“œë ë•Œ ì›ë˜ ì´ë¦„ìœ¼ë¡œ
  },
  module: {
    rules: [
      // css/style loader ì ìš©
      {
        test: /\.css$/i,
        use: ['style-loader', 'css-loader'],
      },
      // babel-loader ì ìš©
      {
        test: /\.js$/, // jsë¥¼ ë°”ê¿”ì¤„ê±°ë‹ˆê¹Œ
        exclude: /node_modules/, // node_modules ì œì™¸
        use: {
          loader: 'babel-loader',
          options: {
            presets: ['@babel/preset-env'],
          },
        },
      },
      // resource asset
      {
        test: /\.(png|svg|jpg|jpeg|gif)$/, // í—ˆìš©í•  í™•ì¥ìëª…ë“¤
        type: 'asset/resource',
      },
    ],
  },
  plugins: [
    // html í”ŒëŸ¬ê·¸ì¸
    new HtmlWebpackPlugin({
      // templateì— ìˆëŠ” index.htmlì´ ë¹Œë“¤ë¥´ í†µí•´ outputê²½ë¡œì— ìˆëŠ” index.htmlë¡œ ë§Œë“¤ì–´ì§
      filename: 'index.html',
      template: 'src/index.html',
    }),
    // bundle analyzer í”ŒëŸ¬ê·¸ì¸
    new BundleAnalyzerPlugin(),
  ],
  // development server
  devServer: {
    static: {
      directory: path.join(__dirname, 'dist'), // output ê²½ë¡œ
    },
    compress: true, // ì œê³µë˜ëŠ” ëª¨ë“  í•­ëª©ì— ëŒ€í•´ gzipì••ì¶• í™œì„±í™”
    port: 3001, // ì‹¤í–‰í•  í¬íŠ¸ë²ˆí˜¸
    open: true, // ì„œë²„ ì‹œì‘ í›„ ë°”ë¡œ ë¸Œë¼ìš°ì € ì—´ê¸°
  },
  // devtools
  devtool: 'source-map',
};

```