---
title: 'ê°ì²´ì§€í–¥ í”„ë¡œê·¸ë˜ë°'
date: '2023-10-29'
description: 'ê°ì²´ ì§€í–¥ í”„ë¡œê·¸ë˜ë° in TS'
category: 'TypeScript'
thumbnail: '/thumbnail/typescript.png'
---

## ëª©ì°¨

# ğŸ“–Â ê°œìš”

**ì„œë¡œ ê´€ë ¨ìˆëŠ” ë°ì´í„°ë‚˜ í•¨ìˆ˜ë¥¼ ì—¬ëŸ¬ê°€ì§€ objectë¡œ ì •ì˜í•´ì„œ í”„ë¡œê·¸ë˜ë° í•´ë‚˜ê°€ëŠ”ê²ƒ**

- í•œê³³ì—ì„œ ë¬¸ì œê°€ ìƒê¸´ë‹¤ë©´ ê´€ë ¨ìˆëŠ” objectë§Œ ìˆ˜ì •í•˜ë©´ë¨
- ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ í•„ìš”í•˜ë‹¤ë©´ ìƒˆë¡œìš´ objectë¥¼ ìƒì„±í•˜ë©´ ëœë‹¤. â†’ í™•ì¥ì„± â¬†ï¸
- ìƒì‚°ì„± í–¥ìƒ, ë†’ì€ í€„ë¦¬í‹°, ë” ë¹ ë¥´ê²Œ êµ¬í˜„, ìœ ì§€ë³´ìˆ˜

---

# ğŸ“–Â ê°ì²´ì§€í–¥ 4ê°€ì§€ ì›ì¹™

### Encapsulation (ìº¡ìŠí™”)

- í©ì–´ì ¸ìˆëŠ” ë°ì´í„°ì™€ í•¨ìˆ˜ë“¤ ì¤‘ì— ì„œë¡œ ì—°ê´€ì„± ìˆëŠ” ê²ƒ ë¼ë¦¬ ë¬¶ì–´ë†“ëŠ”ë‹¤.
- ì„œë¡œ ê´€ë ¨ìˆëŠ” ë°ì´í„°ë‚˜ í•¨ìˆ˜ë¥¼ í•œ objectì•ˆì— ë‹´ì•„ë‘ê³  ì™¸ë¶€ì—ì„œ ë³´ì¼ í•„ìš”ê°€ ì—†ëŠ” ë°ì´í„°ë¥¼ ìˆ¨ê²¨ ë†“ëŠ”ê²ƒ

ex) ê³ ì–‘ì´ì˜ ë‚´ë¶€ì˜ ìƒíƒœ ê¸°ì¨,ìŠ¬í””, í™”ë‚¨ ë“±ë“±ì„ ì•Œìˆ˜ëŠ” ì—†ì§€ë§Œ ê³ ì–‘ì´ ì™¸ë¶€ì—ì„œ  ë†€ì•„ì£¼ê±°ë‚˜ ë¨¹ì´ë¥¼ ì£¼ê±°ë‚˜ í•´ì„œ ë‚´ë¶€ ìƒíƒœë¥¼ ë°”ê¿”ì¤„ ìˆ˜ ìˆë‹¤.  

### Abstraction (ì¶”ìƒí™”)

- ë‚´ë¶€ì˜ ë³µì¡í•œ ê¸°ëŠ¥ì„ ë‹¤ ì´í•´í•˜ì§€ ì•Šê³  ì™¸ë¶€ì—ì„œ ê°„ë‹¨íˆ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ì„œ ì‚¬ìš©

ex) ì»¤í”¼ë¨¸ì‹ ì´ ìˆëŠ”ë° ìš°ë¦¬ëŠ” ì´ ë™ì‘ì›ë¦¬ë¥¼ ì•Œ í•„ìš”ëŠ” ì—†ê³  ì—¬ê¸°ì„œ ì œê³µí•˜ëŠ” ê°„ë‹¨í•œ ë©”ë‰´ì–¼ì„ í†µí•´ ì‚¬ìš© í•œë‹¤.

### Inheritance (ìƒì†)

- ìƒì†ì„ ì´ìš©í•˜ë©´ í•œë²ˆ ì˜ ì •ì˜í•´ë†“ì€ í´ë˜ìŠ¤ë¥¼ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ì¬ì‚¬ìš©í• ìˆ˜ìˆë‹¤.
- IS-A ê´€ê³„: ìƒì†ì„ ë°›ì€ ìì‹í´ë˜ìŠ¤ëŠ” ë¶€ëª¨í´ë˜ìŠ¤ë‹¤

ex) ê°•ì•„ì§€, ê³ ì–‘ì´, ë¼ì§€ ë‹¤ ë™ë¬¼ì´ë‹¤.

![ì´ë¯¸ì§€1](https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fbfce75ed-33e6-453e-9850-5a60ec7181ee%2F02f243fc-c217-4a60-9b5d-7ff739cc63bb%2F%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-09_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_3.38.51.png?table=block&id=0b429eae-d776-4c24-8a61-c4800b5fa8a6&spaceId=bfce75ed-33e6-453e-9850-5a60ec7181ee&width=2000&userId=bdf1804f-ef00-4c94-a558-f25088b3ae74&cache=v2)

### Polymorphism (ë‹¤í˜•ì„±)

- poly: many, morphi: í˜•íƒœ â†’ ë‹¤ì–‘í•œ í˜•íƒœ
- ìœ„ ì´ë¯¸ì§€ë¥¼ ì˜ˆì‹œë¡œ ë“¤ë©´ ë™ë¬¼ë“¤ì€ makeSound()ë¼ëŠ” ê³µí†µí•¨ìˆ˜ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

---

# ğŸ§‘ğŸ»â€ğŸ’»Â ê°ì²´ì§€í–¥ ë§Œë“¤ì–´ë³´ê¸°

## 1. ì ˆì°¨ì§€í–¥

```tsx
{
  type CoffeeCup = {
    shots: number;
    hasMilk: boolean;
  };

  const BEANS_GRAMM_PER_SHOT: number = 7;
  let coffeeBeans: number = 14;

  function makeCoffee(shots: number): CoffeeCup {
    if(coffeeBeans < shots * BEANS_GRAMM_PER_SHOT) {
        throw new Error('Not enough coffee beans');
    }
    coffeeBeans -= shots * BEANS_GRAMM_PER_SHOT;
    return {
        shots,
        hasMilk: false,
    }
  }

  const coffee = makeCoffee(2);
  console.log(coffee);
}
```

- shotì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ì»¤í”¼ë¥¼ ë§Œë“œëŠ” í•¨ìˆ˜
- ì‹¤í–‰ ê²°ê³¼: `{ shots: 2, hasMilk: false }`

---

## 2. ê°ì²´ì§€í–¥ (static ì‚¬ìš© ì „)

```tsx
{
  type CoffeeCup = {
    shots: number;
    hasMilk: boolean;
  };

  class CoffeeMaker {
    BEANS_GRAMM_PER_SHOT: number = 7;  
    coffeeBeans: number = 0;    

    constructor(coffeeBeans: number) {
      this.coffeeBeans = coffeeBeans;
    }

    makeCoffee(shots: number): CoffeeCup {
      if (this.coffeeBeans < shots * this.BEANS_GRAMM_PER_SHOT) {
        throw new Error('Not enough coffee beans');
      }
      this.coffeeBeans -= shots * this.BEANS_GRAMM_PER_SHOT;
      return {
        shots,
        hasMilk: false,
      };
    }
  }

// new ì‚¬ìš©
  const maker =  new CoffeeMaker(32);
  console.log(maker);
  const maker2 =  new CoffeeMaker(14);
  console.log(maker2);
}
```
- ìœ„ ì ˆì°¨ì§€í–¥ ì½”ë“œë¥¼ ê°ì²´ì§€í–¥ì ìœ¼ë¡œ ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.
- ìœ„ì—ì„œëŠ” ì»¤í”¼ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´ ì—¬ê¸°ì—ì„œëŠ” ì»¤í”¼ë¨¸ì‹ ì„ ë§Œë“¤ì—ˆìŒ
- ì‹¤í–‰ ê²°ê³¼
    
    `CoffeeMaker { BEANS_GRAMM_PER_SHOT: 7, coffeeBeans: 32 }`
    `CoffeeMaker { BEANS_GRAMM_PER_SHOT: 7, coffeeBeans: 14 }`
    
    ì‹¤í–‰ ê²°ê³¼ë¥¼ ë³´ë©´ `BEANS_GRAMM_PER_SHOT` ìƒìˆ˜ì˜ ê²½ìš° ê³ ì •ê°’ì¸ë° ì˜¤ë¸Œì íŠ¸ê°€ ë§Œë“¤ì–´ì§ˆë•Œë§ˆë‹¤ ì¤‘ë³µì ìœ¼ë¡œ ë°ì´í„°ê°€ ìƒì„±ëœë‹¤. â†’ ë©”ëª¨ë¦¬ ë‚­ë¹„
    
    ì´ë¥¼ í•´ê²°í•˜ê¸°ìœ„í•´ `static` ì‚¬ìš©!
    

### 2-1. ê°ì²´ì§€í–¥ (static ì‚¬ìš©)

```tsx
{
  type CoffeeCup = {
    shots: number;
    hasMilk: boolean;
  };

  class CoffeeMaker {
    static BEANS_GRAMM_PER_SHOT: number = 7;  // class level
    coffeeBeans: number = 0;    // instance level

    constructor(coffeeBeans: number) {
      this.coffeeBeans = coffeeBeans;
    }

    // ìƒì„±ì ì‚¬ìš© ì•ˆ í•  ê²½ìš°
    static makeMachine(coffeeBeans: number): CoffeeMaker {
        return new CoffeeMaker(coffeeBeans);
    }

    makeCoffee(shots: number): CoffeeCup {
      if (this.coffeeBeans < shots * CoffeeMaker.BEANS_GRAMM_PER_SHOT) {
        throw new Error('Not enough coffee beans');
      }
      this.coffeeBeans -= shots * CoffeeMaker.BEANS_GRAMM_PER_SHOT;
      return {
        shots,
        hasMilk: false,
      };
    }
  }

  const maker =  new CoffeeMaker(32);
  console.log(maker);
  const maker2 =  new CoffeeMaker(14);
  console.log(maker2);
  // ìƒì„±ì ì‚¬ìš© ì•ˆ í•  ê²½ìš°
  const maker3 = CoffeeMaker.makeMachine(3);
  console.log(maker3)
}
```

- `static`
    - í´ë˜ìŠ¤ì—ì„œ ì •í•´ì§, ë³€í•˜ì§€ ì•ŠìŒ
    - í´ë˜ìŠ¤ì™€ ì—°ê²°ì´ ë˜ì–´ìˆê¸° ë•Œë¬¸ì— ì˜¤ë¸Œì íŠ¸ë§ˆë‹¤ ë§Œë“¤ì–´ì§€ê±°ë‚˜ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.
    - this í‚¤ì›Œë“œ ë§ê³  í´ë˜ìŠ¤ëª….ë³€ìˆ˜ëª… ìœ¼ë¡œ ì‚¬ìš©
    - ëŒ€í‘œì ìœ¼ë¡œ `Math.random()`ë“± `Math` í´ë˜ìŠ¤ê°€ ìˆë‹¤. (ì´ í•¨ìˆ˜ë“¤ì€ í´ë˜ìŠ¤ ë ˆë²¨ì´ê¸° ë•Œë¬¸ì— new Math ì´ëŸ°ì‹ìœ¼ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.)
- `makeMachine()`
    - ìƒì„±ìë¥¼ ì‚¬ìš©ì•ˆí•˜ê³  staticìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ CoffeeMaker.makeMachine()ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤.
    - maker3ì—ì„œ ì‚¬ìš©í•¨
- ì‹¤í–‰ê²°ê³¼ (staticìœ¼ë¡œ ì •ì˜í•œ ìƒìˆ˜ê°€ ë” ì´ìƒ ì¤‘ë³µìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤!)
    
    `CoffeeMaker { coffeeBeans: 32 }`
    `CoffeeMaker { coffeeBeans: 14 }`
    `CoffeeMaker { coffeeBeans: 3 }`
    

---

## 3. ìº¡ìŠí™” (private)

ìœ„ ì½”ë“œì˜ ë¬¸ì œì 

1. `coffeeBeans`ë¥¼ ë§ˆì´ë„ˆìŠ¤ê°’ìœ¼ë¡œ (ìœ íš¨í•˜ì§€ ì•Šì€ ê°’) ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
2. ì •ë³´ì€ë‹‰ì´ í•„ìš”! â†’ public, private, protected  â‡’ ê¸°ë³¸ê°’ì€ public
    
    private â†’ ì™¸ë¶€ì—ì„œ ë³¼ ìˆ˜ ì—†ê³  ì ‘ê·¼ë„ í•  ìˆ˜ ì—†ë‹¤.
    
    protected â†’ ì™¸ë¶€ì—ì„œëŠ” ì ‘ê·¼ í•  ìˆ˜ ì—†ì§€ë§Œ ìƒì†ì„ ë°›ì€ ìì‹ í´ë˜ìŠ¤ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥
    

```tsx
{
  type CoffeeCup = {
    shots: number;
    hasMilk: boolean;
  };

  class CoffeeMaker {
    private static BEANS_GRAMM_PER_SHOT: number = 7; // class level
    private coffeeBeans: number = 0; // instance level

    // static í•¨ìˆ˜ ì‚¬ìš©ì„ ê¶Œì¥í•˜ê¸° ìœ„í•´ private
    private constructor(coffeeBeans: number) {
      this.coffeeBeans = coffeeBeans;
    }

    static makeMachine(coffeeBeans: number): CoffeeMaker {
      return new CoffeeMaker(coffeeBeans);
    }

    // coffeeBeans ì¶”ê°€ í•¨ìˆ˜
    fillCoffeeBeans(beans: number) {
      // invalidê°’ ì—ëŸ¬ ì²˜ë¦¬
      if (beans < 0) {
        throw new Error('value for beans should be greater than 0');
      }
      this.coffeeBeans += beans;
    }

    makeCoffee(shots: number): CoffeeCup {
      if (this.coffeeBeans < shots * CoffeeMaker.BEANS_GRAMM_PER_SHOT) {
        throw new Error('Not enough coffee beans');
      }
      this.coffeeBeans -= shots * CoffeeMaker.BEANS_GRAMM_PER_SHOT;
      return {
        shots,
        hasMilk: false,
      };
    }
  }

  const maker = CoffeeMaker.makeMachine(3);
  // ë¹¨ê°„ ì¤„ ì—ëŸ¬ ëœ¸ -> privateë¼ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
  // maker.coffeBeans = 100;
  maker.fillCoffeeBeans(32);
}
```

- `CoffeeMaker.BEANS_GRAMM_PER_SHOT` í•˜ë©´ ìƒìˆ˜ê°€ ë³´ì„ â†’ ì™¸ë¶€ì—ì„œ ì´ ì •ë³´ë¥¼ ë³´ì´ê²Œ í•˜ê³  ì‹¶ì§€ ì•Šë‹¤. â†’ `private` ì¶”ê°€
- `coffeeBeans`ëŠ” ë‚´ë¶€ì˜ ìƒíƒœ! â†’ ì™¸ë¶€ì—ì„œ ì´ ìƒíƒœë¥¼ ë°”ë€Œê²Œ í•˜ê³  ì‹¶ì§€ ì•Šë‹¤ (invalidê°’ ì…ë ¥ ë“±ë“±) â†’ `private` ì¶”ê°€ í›„ `fillCoffeeBeans()` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ê°’ì„ ê²€ì¦í•˜ê³   ë‚´ë¶€ì˜ ìƒíƒœë¥¼ ë°”ê¾¸ì
    
    â†’ ì „ë‹¬ë°›ì€ ì¸ìê°€ ìœ íš¨í•œì§€ ê²€ì‚¬í•¨ìœ¼ë¡œì¨ ì•ˆì •ì„±ì„ ë†’ì˜€ë‹¤.
    
- ìƒì„±ìì— `private`?
    
    ë³´í†µ staticì„ ë¶™ì—¬ì„œ í•¨ìˆ˜ë¥¼ ì œê³µí•œë‹¤ë©´ ëˆ„êµ°ê°€ê°€ ìƒì„±ìë¥¼ ì´ìš©í•´ì„œ ìƒì„±í•˜ëŠ” ê²ƒì„ ê¸ˆì§€í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•œë‹¤. ì´ëŸ´ ê²½ìš° constructorë¥¼ privateë¡œ ë§Œë“¤ì–´ì„œ í•­ìƒ static ë©”ì†Œë“œë¥¼ ì´ìš©í•  ìˆ˜ ìˆë„ë¡ ê¶Œì¥í•œë‹¤. 
    

### 3-1. Getter, Setter

```tsx
{
  class User {
    firstName: string;
    lastName: string;
    fullName: string;

    constructor(firstName: string, lastName: string) {
      this.firstName = firstName;
      this.lastName = lastName;
      this.fullName = `${firstName} ${lastName}`;
    }
  }

  const user = new User('Steve', 'jobs');
  console.log(user.fullName);
  user.firstName = 'Ellie';
  console.log(user.fullName);
  // ë°”ê¾¸ë”ë¼ë„ ê³„ì™ Steve jobs ë‚˜ì˜´ fullNameì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ í•œ ë²ˆ í• ë‹¹ë˜ë©´ ê³„ì† ì§€ì •ë˜ì–´ìˆë‹¤.
}
```

- ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ fullNameì„ ë°”ê¿€ ìˆ˜ ì—†ë‹¤.

```tsx
{
  class User {
		firstName: string,
		lastName: string,
    // getter : fullNameì— ì ‘ê·¼ í• ë•Œë§ˆë‹¤ ë³€ê²½ë˜ê²Œ í•´ì¤Œ
    get fullName(): string {
      return `${this.firstName} ${this.lastName}`;
    }

    constructor(firstName: string, lastName: string) {
			this.firstName = firstName;
			this.lastName = lastName;
		}
  }

  const user = new User('Steve', 'jobs');
  console.log(user.fullName);
  const user2 = new User('Jobs', 'Steve');
  console.log(user2.fullName);
  // ì´ì œ ë°”ê¾¸ëŠ”ê²Œ ì ìš©ëœë‹¤.
  // getter ì‚¬ìš© ì‹œ ì •ì˜í• ë•ŒëŠ” í•¨ìˆ˜ì§€ë§Œ ì ‘ê·¼í• ë•ŒëŠ” ë³€ìˆ˜ ì ‘ê·¼í•˜ë“¯ì´ ì ‘ê·¼
}
```

- getterë¥¼ ì‚¬ìš©í•˜ë©´ ê·¸ë•Œ ê·¸ë•Œ fullNameì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. (`get` í‚¤ì›Œë“œë¡œ ì •ì˜)
    
    

**ì½”ë“œë¥¼ ì¢€ ë” ìˆ˜ì •í•´ë³´ì** 

â†’ firstNameê³¼ lastNameì€ ì¸ìŠ¤í„´ìŠ¤ë¡œë§Œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê²Œ privateë¡œ

â†’ ageë¥¼ getterì™€ setterë¥¼ ì´ìš©í•´ ì½ê³  ì“¸ ìˆ˜ ìˆê²Œ!

```tsx
{
  class User {
    get fullName(): string {
      return `${this.firstName} ${this.lastName}`;
    }

    private internalAge = 4;

		// age getter -> ì½ê¸° ì „ìš©
    get age(): number { 
      return this.internalAge;
    }

		// age setter -> ì“°ê¸° ì „ìš©
    set age(num: number ){
      // ì „ë‹¬ëœ ìˆ«ìì— ëŒ€í•´ ìœ íš¨ì„± ê²€ì‚¬
      if(num < 0){
        // ...code
      }
      this.internalAge = num;
    }

		// firstNameê³¼ lastNameì„ privateë¡œ ë°”ê¿”ì£¼ë©´ì„œ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œ ë‹¨ì¶• ê°€ëŠ¥
    constructor(private firstName: string, private lastName: string) {}
  }

  const user = new User('Steve', 'Jobs');
  console.log(user.fullName); // Steve Jobs
  console.log(user.age);   // 4
  const user2 = new User('Jobs', 'Steve');
  user2.age = 20;
  console.log(user2.fullName);  // Jobs Steve
  console.log(user2.age);  // 20
}
```

- getterì™€ setterëŠ” **ì •ì˜ëŠ” í•¨ìˆ˜ì²˜ëŸ¼, ì‚¬ìš©ì€ ë³€ìˆ˜ì²˜ëŸ¼ ì“´ë‹¤.**

---

## 4. ì¶”ìƒí™” (interface)

ì™¸ë¶€ì—ì„œ í´ë˜ìŠ¤ë¥¼ ë³´ì•˜ì„ë•Œ ì¸í„°í˜ì´ìŠ¤ê°€ ë„ˆë¬´ ë³µì¡í•˜ë‹¤. ì–´ë–¤ê±¸ ì‚¬ìš©í•´ì•¼ í• ì§€ ëª¨ë¥´ê² ë‹¤.

â‡’ ì¶”ìƒí™”ë¥¼ í†µí•´ ì •ë§ í•„ìš”í•œ ì¸í„°í˜ì´ìŠ¤ë§Œ ë…¸ì¶œ!

ìš°ì„  makeCoffeeì˜ ì£¼ì„ì²˜ë¦¬ëœ ë¶€ë¶„ì„ ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬ + clean()í•¨ìˆ˜ ì¶”ê°€

```tsx
private grindBeans(shots: number) {
  console.log(`grinding beans for ${shots}`);
  if (this.coffeeBeans < shots * CoffeeMachine.BEANS_GRAMM_PER_SHOT) {
    throw new Error('Not enough coffee beans');
  }
  this.coffeeBeans -= shots * CoffeeMachine.BEANS_GRAMM_PER_SHOT;
}

private preheat(): void {
  console.log('heating up... ğŸ”¥');
}

private extract(shots: number): CoffeeCup {
  console.log(`Pulling ${shots} shots.... â˜•ï¸`);
  return {
  shots,
    hasMilk: false,
  };
}

clean() {
  console.log(`cleaning the machine...ğŸ§¼`)
}

makeCoffee(shots: number): CoffeeCup {
  this.grindBeans(shots);
  this.preheat();
  return this.extract(shots);
  // if (this.coffeeBeans < shots * CoffeeMachine.BEANS_GRAMM_PER_SHOT) {
  //   throw new Error('Not enough coffee beans');
  // }
  // this.coffeeBeans -= shots * CoffeeMachine.BEANS_GRAMM_PER_SHOT;
  // return {
  //   shots,
  //   hasMilk: false,
  // };
}
```

interface ë‘ ê°œ ì¶”ê°€ í›„ classì—ì„œ `implements`

```tsx
interface CoffeeMaker {
  makeCoffee(shots: number): CoffeeCup;
}

interface CommercialCoffeeMaker {
  makeCoffee(shots: number): CoffeeCup;
  fillCoffeeBeans(beans: number): void;
  clean(): void;
}

class CoffeeMachine implements CoffeeMaker, CommercialCoffeeMaker {
  private static BEANS_GRAMM_PER_SHOT: number = 7; 
  private coffeeBeans: number = 0;
	...
```

**ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±ìë¡œ ë°›ëŠ”** ë‘ê°€ì§€ ìœ í˜•ì˜ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  ê°ê° ì¸ìŠ¤í„´ìŠ¤ ìƒì„± í›„ ì‹¤í–‰

```tsx
class AmatuerUser {
  constructor(private machine: CoffeeMaker){}
  makeCoffee() {
      const coffee = this.machine.makeCoffee(2);
      console.log(coffee);
  }
}

class ProBaristar {
  constructor(private machine: CommercialCoffeeMaker){}
  makeCoffee() {
      const coffee = this.machine.makeCoffee(2);
      console.log(coffee);
      this.machine.fillCoffeeBeans(45);
      this.machine.clean();
  }
}

const maker: CoffeeMachine = CoffeeMachine.makeMachine(32);
const amateur = new AmatuerUser(maker);
const pro = new ProBaristar(maker);
amateur.makeCoffee();  // makeCoffeeë§Œ ì‹œí–‰
pro.makeCoffee();      // makeCoffee, fillCoffeeBeans, clean ê¹Œì§€ ì‹¤í–‰
```

- ì„œë¡œ ì¸í„°í˜ì´ìŠ¤ì— ê·œì•½ëœ í•¨ìˆ˜ë§Œ ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— **ê°™ì€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ë‹¤ë¥´ë‹¤.**
- ë™ì¼í•œ ì˜¤ë¸Œì íŠ¸ì˜ ì¸ìŠ¤í„´ìŠ¤ ì¼ì§€ë¼ë„ í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ëŠ” ë‘ê°€ì§€ì˜ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì— ê°ê° ì—­í• ì´ ë‹¤ë¥´ë‹¤.

---

## 5. ìƒì†

- ì´ì „ í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ì•„ CaffeLatteMachineì„ ë§Œë“¤ì–´ë³´ê² ë‹¤.

```tsx
class CoffeeMachine implements CoffeeMaker {
    private static BEANS_GRAMM_PER_SHOT: number = 7;
    private coffeeBeans: number = 0;

    public constructor(coffeeBeans: number) {
      this.coffeeBeans = coffeeBeans;
    }
...
```

- interface í•˜ë‚˜ë¡œ ì¤„ì—¬ì¤Œ
- ìƒì„±ì private â†’ public

```tsx
// ìƒì†ì€ extends í‚¤ì›Œë“œ ì‚¬ìš©!
// ìƒì„±ìê°€ privateë©´ ìƒì† ì•ˆë¨ -> public or protected ì‚¬ìš©
class CaffeLatteMachine extends CoffeeMachine {
  // ìì‹í´ë˜ìŠ¤ì—ì„œ ìƒì„±ìë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš° ë°˜ë“œì‹œ superë¥¼ ì‚¬ìš©í•´ì£¼ì–´ì•¼ í•¨
  // ë¶€ëª¨í´ë˜ìŠ¤ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë„ ë°›ì•„ì™€ì•¼ í•¨, ì—¬ê¸°ì„œëŠ” ì»¤í”¼ì½©
  constructor(beans: number, public readonly serialNumber: string){
      super(beans);
	}

  private steamMilk(): void {
    console.log(`Steaming some milk ... ğŸ¥›`);
  }

  // ì˜¤ë²„ë¼ì´ë”©
  makeCoffee(shots: number): CoffeeCup {
    // ìì‹ì—ì„œ ë¶€ëª¨ì— ìˆëŠ” ê²ƒì„ ì´ìš©: super (privateì¼ ê²½ìš°)
    const coffee = super.makeCoffee(shots);
    this.steamMilk();
    return {
      ...coffee,
      hasMilk: true,
    };
  }
}

const latteeMachine = new CaffeLatteMachine(23, 'abcdef');
const coffee = latteeMachine.makeCoffee(1);
console.log(coffee);
```

- ìƒì†ì„ ì˜ ì´ìš©í•˜ë©´ **ê³µí†µì ì¸ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ì¬ì‚¬ìš©í•˜ë©´ì„œ ìì‹ í´ë˜ìŠ¤ì—ì„œë§Œ íŠ¹í™”ëœ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.**
    
    ![ì´ë¯¸ì§€2](https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fbfce75ed-33e6-453e-9850-5a60ec7181ee%2F1aa945bf-2b46-4a59-9187-42ad9d62ce21%2F%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-23_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.22.19.png?table=block&id=02d02fdc-061a-4572-ad55-8694f9cc46a7&spaceId=bfce75ed-33e6-453e-9850-5a60ec7181ee&width=910&userId=bdf1804f-ef00-4c94-a558-f25088b3ae74&cache=v2)
    

---

## 6. ë‹¤í˜•ì„±

ì„¤íƒ•ì„ ì¶”ê°€í•œ SweetCoffeeMachineì„ ìƒì†ì„ í†µí•´ ìƒì„±

```tsx
{
  type CoffeeCup = {
    shots: number;
    hasMilk: boolean;
    hasSugar?: boolean;
  };

  interface CoffeeMaker {
    makeCoffee(shots: number): CoffeeCup;
  }

  class CoffeeMachine implements CoffeeMaker {
   ...
  }

  class CaffeLatteMachine extends CoffeeMachine {
    ...
  }

  class SweetCoffeeMachine extends CoffeeMachine {
    private addSugar(): void {
      console.log(`add some sugar ... ğŸ­`);
    }

    makeCoffee(shots: number): CoffeeCup {
      const coffee = super.makeCoffee(shots);
      this.addSugar();
      return {
        ...coffee,
        hasSugar: true,
      };
    }
  }

  const machines: CoffeeMaker[] = [
    new CoffeeMachine(16),
    new CaffeLatteMachine(16, 'abc'),
    new SweetCoffeeMachine(16),
    new CoffeeMachine(16),
    new CaffeLatteMachine(16, 'def'),
    new SweetCoffeeMachine(16),
  ];

  machines.forEach(machine => {
    console.log('----------------------');
    machine.makeCoffee(1);
  })
}
```

- êµ¬ì¡°
    - SweetCoffeeMachineì€ CoffeeMachineì´ë‹¤.
    - CaffeeLatteeMachineì€ CoffeeMachineì´ë‹¤.
    - CoffeeMachineì€ CoffeeMakerì´ë‹¤.
    
    â†’ ë”°ë¼ì„œ machines ë°°ì—´ì˜ íƒ€ì…ì€ `CoffeeMaker[]`
    
- ì´ì²˜ëŸ¼ ë‹¤í˜•ì„±ì˜ ì¥ì ì€ ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„ëœ ë‹¤ì–‘í•œ í´ë˜ìŠ¤ë“¤ì´ í•œ ê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ê±°ë‚˜ ë˜ëŠ” ë™ì¼í•œ ë¶€ëª¨ í´ë˜ìŠ¤ë¥¼ ìƒì†í–ˆì„ë•Œ ë™ì¼í•œ í•¨ìˆ˜ë¥¼ ì–´ë–¤ í´ë˜ìŠ¤ì¸ì§€ êµ¬ë¶„í•˜ì§€ì•Šê³ , ê³µí†µëœ apií˜¸ì¶œì´ ê°€ëŠ¥í•˜ë‹¤ëŠ”ê²Œ í° ì¥ì ì´ë‹¤.
    
    ![ì´ë¯¸ì§€3](https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2Fbfce75ed-33e6-453e-9850-5a60ec7181ee%2Fa4cc5696-265e-4fc7-a3bd-6f121f0512b6%2F%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-10-23_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_1.43.29.png?table=block&id=6e154294-4943-49e7-84d0-a8dd3dd1c185&spaceId=bfce75ed-33e6-453e-9850-5a60ec7181ee&width=480&userId=bdf1804f-ef00-4c94-a558-f25088b3ae74&cache=v2)
    

### + ì¶”ìƒí´ë˜ìŠ¤ (ë²ˆì™¸)

```tsx
abstract class CoffeeMachine implements CoffeeMaker {
  ...

	// ìì‹ í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤ê³  ê°€ì •
	// êµ¬í˜„ì‚¬í•­ì€ ì ì§€ ì•ŠëŠ”ë‹¤.
  protected abstract extract(shots: number): CoffeeCup;
	
  makeCoffee(shots: number): CoffeeCup {
    this.grindBeans(shots);
    this.preheat();
    return this.extract(shots);
  }
}

// ìì‹ í´ë˜ìŠ¤
class CaffeLatteMachine extends CoffeeMachine {
  ...
	// superë¥¼ ë¶€ë¥´ëŠ” ëŒ€ì‹  ì¶”ìƒë©”ì†Œë“œ êµ¬í˜„ìœ¼ë¡œ ëŒ€ì²´
	protected extract(shots: number): CoffeeCup {
		this.steamMilk();
		return {
			shots,
			hasMilk: true,
		};
	}
}
```

- í´ë˜ìŠ¤ ì•ì— `abstract` í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì„œ ì‚¬ìš©
- ìì‹ í´ë˜ìŠ¤ë§ˆë‹¤ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆëŠ” í–‰ë™ì´ ìˆë‹¤ë©´ ì‚¬ìš©í•œë‹¤.
    - private â†’ protected
        
        ì™¸ë¶€ì—ì„œëŠ” extractë¥¼ ì ‘ê·¼í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ìì‹ë§Œ ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©
        
        abstract ì•ì—ë‹¤ ì‘ì„±í•œë‹¤.
        
- ì¶”ìƒì ì¸ ë©”ì†Œë“œì´ê¸° ë•Œë¬¸ì— êµ¬í˜„ì‚¬í•­ì€ ì ì§€ ì•ŠëŠ”ë‹¤.
- ì¡°ê¸ˆ ë” ì•ˆì „í•˜ê²Œ ê³µí†µì ì¸ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ê³   ë‹¬ë¼ì ¸ì•¼ í•˜ëŠ” ê²ƒë§Œ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤ì—ê²Œ êµ¬í˜„í•˜ë¼ê³  ê°•ì¡° ê°€ëŠ¥
- ì»´í¬ì§€ì…˜ì´ ë” ì¢‹ê¸´í•´

---

## 7. Composition

**ìƒì†ì˜ ë¬¸ì œì !**
- ì¡±ë³´ê°€ê¼¬ì¸ë‹¤
- ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë¬´ì–¸ê°€ë¥¼ ìˆ˜ì •í•˜ë©´ ëª¨ë“  ìì‹ í´ë˜ìŠ¤ì— ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆìŒ
- êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆìˆ˜ ìˆìŒ
- TSì—ì„œëŠ” ë‘ê°€ì§€ ì´ìƒì˜ ë¶€ëª¨í´ë˜ìŠ¤ë¥¼ ìƒì†í•  ìˆ˜ ì—†ë‹¤.

**â‡’ ìƒì† ëŒ€ì‹ ì— ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì!**

ìš°ìœ ë¥¼ ë§Œë“œëŠ” ê¸°ëŠ¥ê³¼ ì„¤íƒ•ì„ ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ì„ ë”°ë¡œ ë¹¼ì„œ í´ë˜ìŠ¤ì— ë„£ì–´ì£¼ì

```tsx
// ì‹¸êµ¬ë ¤ ìš°ìœ  ê±°í’ˆê¸°
class ChipMilkSteamer {
  private steamMilk(): void {
    console.log(`Steaming some milk... ğŸ¥›`);
  }
  makeMilk(cup: CoffeeCup): CoffeeCup {
    this.steamMilk();
    return {
      ...cup,
      hasMilk: true,
    };
  }
}

// ì„¤íƒ• ì œì¡°ê¸°
class AutomaticSugarMixer {
  private getSugar() {
    console.log('Getting some sugar from candy ğŸ­');
    return true;
  }

  addSugar(cup: CoffeeCup): CoffeeCup {
    const sugar = this.getSugar();
    return {
      ...cup,
      hasSugar: sugar,
    };
  }
}
```

í´ë˜ìŠ¤ì— ì ìš© â†’ ê¸°ì¡´ í•¨ìˆ˜ ì œê±° í›„ í´ë˜ìŠ¤ë¥¼ ë°›ì•„ì˜¨ë‹¤.

```tsx
class CaffeLatteMachine extends CoffeeMachine {
  constructor(
    beans: number,
    public readonly serialNumber: string,
    private milkFrother: ChipMilkSteamer
  ) {
    super(beans);
  }

  makeCoffee(shots: number): CoffeeCup {
    const coffee = super.makeCoffee(shots);
    return this.milkFrother.makeMilk(coffee);
  }
}

class SweetCoffeeMachine extends CoffeeMachine {
  constructor(private beans: number, private sugar: AutomaticSugarMixer) {
    super(beans);
  }

  makeCoffee(shots: number): CoffeeCup {
    const coffee = super.makeCoffee(shots);
    return this.sugar.addSugar(coffee);
  }
}

class SweetCaffeLatteMachine extends CoffeeMachine {
  constructor(
    private beans: number,
    private milkFrother: CheapMilkSteamer,
    private sugar: CandySugarMixer
  ) {
    super(beans);
  }

  makeCoffee(shots: number): CoffeeCup {
      const coffee = super.makeCoffee(shots);
      return this.milkFrother.makeMilk(this.sugar.addSugar(coffee));
  }
}
```

- ê°ê°ì˜ ê¸°ëŠ¥ë³„ë¡œ í´ë˜ìŠ¤ë¥¼ ë”°ë¡œ ë§Œë“¤ì–´ ë‘ ìœ¼ë¡œì¨ í•„ìš”í•œ ê³³ì—ì„œ ê°€ì ¸ë‹¤ ì“´ë‹¤ â†’  ì»´í¬ì§€ì…˜!
- ì´ë ‡ê²Œ ì™¸ë¶€ì—ì„œ ì£¼ì… ë°›ìŒ(DI)ìœ¼ë¡œì¨ í•„ìš”í•œ ê¸°ëŠ¥ì„ ì¬ì‚¬ìš©í•œë‹¤.
- ìœ„ì²˜ëŸ¼ ì»´í¬ì§€ì…˜ì€ ì½”ë“œì˜ ì¬ì‚¬ìš©ì„ ì—„ì²­ ë†’ì—¬ì¤€ë‹¤.

ë‹¨ì : ìš°ìœ ìŠ¤í‹°ë¨¸ë‘ ì„¤íƒ•ì œì¡°ê¸° í´ë˜ìŠ¤ë‘ ë‹¤ë¥¸ ë¨¸ì‹  í´ë˜ìŠ¤ë“¤ì˜ **ê²°í•©ë„ê°€ ë§¤ìš° ë†’ë‹¤**

### 7-1. decoupling

**interface**ë¥¼ í†µí•´ ë””ì»¤í”Œë§

```tsx
interface MilkFrother {
  makeMilk(cup: CoffeeCup): CoffeeCup;
}

interface SugarProvider {
  addSugar(cup: CoffeeCup): CoffeeCup;
}
```

ìš°ìœ , ì„¤íƒ• í´ë˜ìŠ¤ì— ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„, ìƒˆë¡œìš´ ë²„ì „ ì¶”ê°€

```tsx
// ìš°ìœ  ìŠ¤í‹°ë¨¸
class CheapMilkSteamer implements MilkFrother {
  ...
  }
}

class FancyMilkSteamer implements MilkFrother {
  private steamMilk(): void {
    console.log(`Fancy Steaming some milk... ğŸ¥›`);
  }
  ...
}

// ì„¤íƒ• ì œì¡°ê¸°
class CandySugarMixer implements SugarProvider {
  ...
}

class SugarMixer implements SugarProvider {
  private getSugar() {
    console.log('Getting some sugar from jar ğŸº');
    return true;
  }
	...
}
```

ê°ê°ì˜ ë¨¸ì‹ ë“¤ë„ í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ê²Œ í•œë‹¤.

```tsx
class CaffeLatteMachine extends CoffeeMachine {
  constructor(
    beans: number,
    public readonly serialNumber: string,
    private milkFrother: MilkFrother  // í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ìŒ
  ) {
    super(beans);
  }
	...
}

...
```

```tsx
// Milk
const cheapMilkMaker = new CheapMilkSteamer();
const fancyMilkMaker = new FancyMilkSteamer();

// Sugar
const candySugar = new CandySugarMixer();
const sugar = new SugarMixer();

// Machine
const sweetCandyMachine = new SweetCoffeeMachine(12, candySugar);
const sweetMachine = new SweetCoffeeMachine(12, sugar);

const latteMachine = new CaffeLatteMachine(12, 'LL', cheapMilkMaker);
const fancyLatteMachine = new CaffeLatteMachine(12, 'FF', fancyMilkMaker);
const sweetLatteMachine = new SweetCaffeLatteMachine(
  12,
  cheapMilkMaker,
  candySugar
);
```

- ì›í• ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ë¶€í’ˆì„ ë¼ì›Œì„œ ì›í•˜ëŠ” ìš©ë„ì— ë§ê²Œ ì“¸ ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆë‹¤!

ì½”ë“œë¥¼ ì¢€ ë” ìˆ˜ì • â†’ ì´ì œ ë¨¸ì‹ ë„ ì»¤í”¼ë¨¸ì‹  í•˜ë‚˜ë§Œ ë‚¨ê¸°ì

```tsx
class CoffeeMachine implements CoffeeMaker {
    private static BEANS_GRAMM_PER_SHOT: number = 7;
    private coffeeBeans: number = 0;

		// milkì™€ sugar ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°›ë„ë¡ ìƒì„±ìë¥¼ ìˆ˜ì •
    public constructor(
      coffeeBeans: number,
      private milk: MilkFrother,
      private sugar: SugarProvider
    ) {
      this.coffeeBeans = coffeeBeans;
    }
...

}

...

// no milk, no sugar í´ë˜ìŠ¤ ì¶”ê°€
class NoMilk implements MilkFrother {
  makeMilk(cup: CoffeeCup): CoffeeCup {
      return cup;
  }
}

class NoSugar implements SugarProvider {
  addSugar(cup: CoffeeCup): CoffeeCup {
      return cup;
  } 
}
```

- CoffeeMachineì„ ì œì™¸í•œ ëª¨ë“  ìƒì† í´ë˜ìŠ¤ë“¤ ë‹¤ ì§€ì›Œë²„ë ¸ë‹¤.
- milk, sugarê°€ ì—†ëŠ” ê²½ìš°ë„ ê³ ë ¤í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— nomilk, nosugar í´ë˜ìŠ¤ ì¶”ê°€

```tsx
// Milk
const cheapMilkMaker = new CheapMilkSteamer();
const fancyMilkMaker = new FancyMilkSteamer();
const noMilk = new NoMilk();

// Sugar
const candySugar = new CandySugarMixer();
const sugar = new SugarMixer();
const noSugar = new NoSugar();

// Machine
const sweetCandyMachine = new CoffeeMachine(12, noMilk, candySugar);
const sweetMachine = new CoffeeMachine(12, noMilk, sugar);

const latteMachine = new CoffeeMachine(12,  cheapMilkMaker, noSugar);
const fancyLatteMachine = new CoffeeMachine(12, fancyMilkMaker, noSugar);
const sweetLatteMachine = new CoffeeMachine(
  12,
  cheapMilkMaker,
  candySugar
);
```

- í•˜ë‚˜ì˜ ì»¤í”¼ë¨¸ì‹ ìœ¼ë¡œ ì—¬ëŸ¬ê°€ì§€ ì»¤í”¼ë¨¸ì‹  ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.
- ì´ë ‡ê²Œ ì»´í¬ì§€ì…˜ì„ í†µí•´ì„œ ìƒì†ì„ ì „í˜€ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì»¤í”¼ë¨¸ì‹ ì´ë¼ëŠ” í´ë˜ìŠ¤ì— ìš°ë¦¬ê°€ í•„ìš”í•œ ë‹¤ì–‘í•œ í˜•íƒœì˜ ìš°ìœ ì™€ ì„¤íƒ•ì„ ì£¼ì…í•¨ìœ¼ë¡œì„œ ì›í•˜ëŠ” ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì—ˆë‹¤.
    
    ê·¸ë ‡ë‹¤ê³  ìƒì†ì´ ë‚˜ì˜ê³  ì»´í¬ì§€ì…˜ì´ ì¢‹ì€ê±´ ì•„ë‹ˆë‹¤. â†’  ìƒí™©ì— ë”°ë¼ ë‹¤ë¥´ë‹¤. ìƒì†ì˜ ê´€ê³„ê°€ ê¹Šê±°ë‚˜ ê·¸ëŸ´ ê²½ìš°ì— ì»´í¬ì§€ì…˜ì„ ì‚¬ìš©í•˜ì
    

**+ over engineering í•˜ì§€ë§ˆë¼**

â†’ ì–´ë–¤ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì— ì´ˆì ì„ ë‘ì–´ì•¼ í•˜ëŠ”ë° ì½”ë“œ ê°œì„ , ë¶ˆí•„ìš”í•œ í™•ì¥ì„± ë“±ì„ ê³ ë ¤í•´ì„œ ì½”ë“œë¥¼ ë³µì¡í•˜ê²Œ ë””ìì¸í•  í•„ìš”ëŠ” ì—†ë‹¤. ì–´ëŠì •ë„ ì¤‘ê°„ì  ì„ ì˜ ì§€ì¼œê°€ë©´ì„œ ê°œë°œí•˜ì.

<br />

---

# Stack ë§Œë“¤ì–´ë³´ê¸°

1. TSì—ì„œ ì œê³µí•˜ëŠ” ìë£Œêµ¬ì¡° ì‚¬ìš© X (ë°°ì—´ ë“±ë“±)
2. í´ë˜ìŠ¤ë§Œìœ¼ë¡œ êµ¬í˜„, ì—°ê²°ë¦¬ìŠ¤íŠ¸ ì‚¬ìš©
3. Hint

```tsx
interface Stack {
  readonly size: number;
  push(value: string): void;
  pop(): string;
}

type StackNode = {
  // ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì„œ ê·¸ ë°ì´í„°ë¥¼ ê°ì‹¼ë‹¤ë©´ ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì•¼í•¨ -> readonly
  readonly value: string;
  readonly next?: StackNode;
};
```

### ì •ë‹µ

```tsx
interface Stack {
  readonly size: number;
  push(value: string): void;
  pop(): string;
}

type StackNode = {
  // ì‚¬ìš©ìê°€ ë°ì´í„°ë¥¼ ì „ë‹¬í•´ì„œ ê·¸ ë°ì´í„°ë¥¼ ê°ì‹¼ë‹¤ë©´ ë¶ˆë³€ì„±ì„ ìœ ì§€í•´ì•¼í•¨ -> readonly
  readonly value: string;
  readonly next?: StackNode;
};

class StackImpl implements Stack {
  // ì•ˆì—ì„œë§Œ ì“°ì¼ ê²½ìš° private
  private _size: number = 0;
  private head?: StackNode;
  
  constructor(private capacity: number){}

  get size() {
    return this._size;
  }

  push(value: string): void {
    if(this.size === this.capacity){
        throw new Error('Stack is full!');
    }
    this._size++;
    const node: StackNode = {value, next: this.head};
    this.head = node;
  }

  pop(): string {
    // nullê³¼ undefinedëŠ” === ê°€ ì•„ë‹Œ ==ë¥¼ í™œìš©í•˜ë©´ ê°™ë‹¤. -> ë‘˜ ë‹¤ ê±¸ëŸ¬ì§
    if(this.head == null){
        throw new Error('Stack is empty!');
    } 

    const node = this.head;
    this.head = node.next;
    this._size--;
    return node.value;
  }
}

// test
const stack = new StackImpl(3);
stack.push('aaa');
stack.push('bbb');
stack.push('ccc');
while(stack.size !== 0){
    console.log(stack.pop());
}
```