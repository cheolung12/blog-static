---
title: 'Generic'
date: '2023-10-30'
description: 'Generic in TS'
category: 'TypeScript'
thumbnail: '/thumbnail/typescript.jpg'
---

## ëª©ì°¨

# ğŸ”¹Â í•¨ìˆ˜ì—ì„œì˜ Generic

ëª¨ë“  íƒ€ì…ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ nullì¸ì§€ ì²´í¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‘ì„±

```ts
function checkNotNull(arg: any | null): any {
      if(arg == null){
          throw new Error('not valid value');
      }
      return arg;
  }
  // anyë¡œ ë°›ì„ ê²½ìš° íƒ€ì…ì´ ë³´ì¥ë˜ì§€ ì•ŠëŠ”ë‹¤ -> resultì˜ íƒ€ì…ì´ anyê°€ ë¨
  const result = checkNotNull(123);
  

  // ì œë„¤ë¦­ ì´ìš©
  function checkNotNullGeneric<T>(arg: T | null): T {
      if(arg == null){
          throw new Error('not valid value');
      }
      return arg;
  }

  const number = checkNotNullGeneric(123);
  const bool = checkNotNullGeneric(true);
```

- ì œë„¤ë¦­ì„ í™œìš©í•˜ì—¬ ì–´ë–¤ íƒ€ì…ì´ë“ ì§€ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.
- ê´€ë¡€ìƒ ëŒ€ë¬¸ì Të¡œ í‘œí˜„í•œë‹¤.

<br />

# ğŸ”¹Â í´ë˜ìŠ¤ì—ì„œì˜ Generic

ìƒì„±ìì—ì„œ ë§¤ê°œë³€ìˆ˜ ë‘ê°œë¥¼ ë°›ì•„ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“ ë‹¤.

```ts
// either: a or b
interface Either {
    left: () => number;
    right: () => number;
}

class SimpleEither implements Either {
    constructor(private leftValue: number, private rightValue: number){}

    left(): number {
        return this.leftValue;
    }

    right(): number {
        return this.rightValue;
    }
}

const either = new SimpleEither(4,5);
either.left(); // 4
either.right(); // 5
```

í˜„ì¬ëŠ” numberíƒ€ì…ë§Œ ë°›ëŠ” í´ë˜ìŠ¤ì´ë‹¤. ì´ë¥¼ ì œë„¤ë¦­ì„í™œìš©í•˜ì—¬ ëª¨ë“  íƒ€ì…ì„ ë°›ì„ ìˆ˜ ìˆê²Œ í•´ë³´ì

```ts
interface Either<L, R> {
    left: () => L;
    right: () => R;
}

// í´ë˜ìŠ¤, ì¸í„°í˜ì´ìŠ¤ ë‘˜ ë‹¤ ì œë„¤ë¦­ íƒ€ì… ëª…ì‹œ
class SimpleEither<L, R> implements Either<L, R> {
    constructor(private leftValue: L, private rightValue: R){}

    left(): L {
        return this.leftValue;
    }

    right(): R {
        return this.rightValue;
    }
}

const either: Either<number, number> = new SimpleEither(4,5);
either.left(); // 4
either.right(); // 5

// ë‹¹ì—°íˆ ì˜¤ë¸Œì íŠ¸ íƒ€ì…ë„ê°€ëŠ¥
const best = new SimpleEither({name: 'ellie'}, 'hello');
console.log(best.left());  // { name: 'ellie' }
```

- ì¸í„°í˜ì´ìŠ¤ì—ë„ ì œë„¤ë¦­ íƒ€ì… ëª…ì‹œê°€ í•„ìš”í•˜ë‹¤.

<br />

# ğŸ”¹Â Constraints

ì œë„¤ë¦­ íƒ€ì…ì— ì¡°ê±´ì„ ê±¸ ìˆ˜ë„ ìˆë‹¤.

```ts
// ì˜ˆì‹œ 1
interface Employee {
    pay(): void;
}
...

function pay<T extends Employee> (employee: T): T {
    employee.pay();
    return employee;
}
```

- `<T extends Employee>` : ì œë„¤ë¦­ì´ê¸´ í•œë° ì–˜ëŠ” Employee ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¥í•œ ì• ë“¤ì´ë‹¤.
- ì œë„¤ë¦­ì˜ ê²½ìš° implementsê°€ ì•„ë‹Œ extendsë¥¼ ì“´ë‹¤. (ë¬¸ë²•ì„)

```java
// ì˜ˆì‹œ 2
const obj = {
    name: 'ellie',
    age: 20,
}

const obj2 = {
    animal: 'ê°•ì•„ì§€',
}

console.log(getValue(obj, 'name')); // ellie
console.log(getValue(obj, 'age'));  // 20
console.log(getValue(obj2, 'animal')); // ê°•ì•„ì§€

function getValue<T, K extends keyof T>(obj: T, key: K): T[K] {
    return obj[key];
}
```

- `<T, K extends keyof T>` : KëŠ” object T ì•ˆì— ìˆëŠ” í‚¤ë“¤ì¤‘ í•˜ë‚˜ì´ë‹¤.