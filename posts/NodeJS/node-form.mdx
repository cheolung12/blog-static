---
title: 'Form μ „μ†΅'
date: '2023-08-01'
description: 'Get & Post, formμ„ ν™μ©ν• λ°μ΄ν„° μ „μ†΅ (feat.express)'
category: 'NodeJS'
thumbnail: '/thumbnail/nodejs.png'
---

## λ©μ°¨

# π“Β form

- μ…λ ¥λ λ°μ΄ν„°λ¥Ό ν• λ²μ— μ„λ²„λ΅ μ „μ†΅ν•κΈ° μ„ν•΄ μ‚¬μ©
- ν΄λΌμ΄μ–ΈνΈ β†’ μ„λ²„λ΅ λ°μ΄ν„° μ „λ‹¬ν•  λ• μ‚¬μ©

## π“Β form μ†μ„±

- `action` : νΌμ„ μ „μ†΅ν•  μ„λ²„ μ£Όμ† μ§€μ • (url)
- `name` : νΌμ„ μ‹λ³„ν•κΈ° μ„ν• μ΄λ¦„
- `method` : νΌμ„ μ„λ²„μ— μ „μ†΅ν•  http λ©”μ†λ“ μ§€μ •
- `target` : action μ†μ„±κ°’μ— μ§€μ •ν• μ¤ν¬λ¦½νΈ νμΌμ„ ν„μ¬ μ°½μ΄ μ•„λ‹ λ‹¤λ¥Έ μ„μΉμ—μ„ μ—΄ μ μλ„λ΅ ν•¨   ex) _blank, _self

```html
<h4>GET μ”μ²­</h4>
<form action="/getForm" method="GET">
    <input type="text" placeholder="id" name="id" required/>
    <input type="password" placeholder="pw" name="pw" required/>
    <button type="submit">μ μ¶</button>
</form>
```

---

# π“Β GET vs POST

### **GET**

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ μ–΄λ– ν• λ¦¬μ†μ¤λ΅λ¶€ν„° μ •λ³΄λ¥Ό μ”μ²­ν•κΈ° μ„ν•΄ μ‚¬μ©λλ” λ©”μ„λ“ ex) κ²μ‹ν κΈ€ μ΅°ν
- μ „μ†΅ν•  λ°μ΄ν„°λ¥Ό queryλ¶€λ¶„μ— λ‹΄μ•„μ„ λ³΄λ‚Έλ‹¤.
- getμ„ ν†µν• μ”μ²­μ€ url λ μ£Όμ†μ— νλΌλ―Έν„°λ΅ ν¬ν•¨λμ–΄ μ „μ†΅λλ©° μ΄ λ¶€λ¶„μ„ **μΏΌλ¦¬μ¤νΈλ§**μ΄λΌ λ¶€λ¥Έλ‹¤
    
    ex) www.example.com/show<span className='green-bold'>?name1=value1&name2=value2</span>
    
- μΊμ‹κ°€ κ°€λ¥ν•λ‹¤
- μ¤‘μ”ν• μ •λ³΄λ¥Ό λ‹¤λ£¨λ©΄ μ•λλ‹¤. (getμ”μ²­μ€ νλΌλ―Έν„°μ— λ‹¤ λ…Έμ¶λμ–΄ λ²„λ¦¬κΈ° λ•λ¬Έ)
- λ°μ΄ν„°λ¥Ό μ”μ²­ν• λ•λ§ μ‚¬μ©λλ‹¤.
- getμ”μ²­μ€ λΈλΌμ°μ € νμ¤ν† λ¦¬μ— λ‚¨λ”λ‹¤.


### **POST**

- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„λ΅ λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•κ±°λ‚ μ—…λ°μ΄νΈν•κΈ° μ„ν•΄μ„ λ°μ΄ν„°λ¥Ό λ³΄λ‚Ό λ• μ‚¬μ©ν•λ” λ©”μ„λ“μ΄λ‹¤. ex) κ²μ‹ν κΈ€ μ‘μ„±
- μ „μ†΅ν•  λ°μ΄ν„°λ¥Ό bodyλ¶€λ¶„μ— λ‹΄μ•„μ„ λ³΄λ‚Έλ‹¤.
- post μ”μ²­μ€ μΊμ‹λμ§€ μ•λ”λ‹¤.
- post μ”μ²­μ€ λΈλΌμ°μ € νμ¤ν† λ¦¬μ— λ‚¨μ§€ μ•λ”λ‹¤.
- post μ”μ²­μ€ λ°μ΄ν„° κΈΈμ΄μ— μ ν•μ΄ μ—†λ‹¤.

---

# π“Β μ „μ†΅ν•κΈ°

```javascript:index.js
const express = require("express");
const app = express();
const PORT = 8000;

// body-parser
app.use(express.urlencoded({ extended: true}));
app.use(express.json());

//view engine`
app.set("view engine", "ejs");
app.set("views", "./views");

// router
app.get('/', (req, res)=> {
    res.render('index', {
        title: 'νΌ μ „μ†΅ μ‹¤μµ',
    });
})

app.get('/getForm', (req, res)=> {
    console.log(req.query);  // getμ€ μΏΌλ¦¬
    res.render('result', {
        title: "GET μ”μ²­ νΌ κ²°κ³Ό ν™•μΈν•κΈ°",
        userInfo: req.query,
    })
})

app.post('/postForm', (req, res) => {
    console.log(req.body);  // postλ” body (μ‚¬μ‹¤ μƒ get λ§κ³ λ” λ‹¤ body)
    res.render('result', {
        title: "POST μ”μ²­ νΌ κ²°κ³Ό ν™•μΈν•κΈ°",
        userInfo: req.body,
    })
})

//μ„λ²„ μ—΄κΈ°
app.listen(PORT, () => {
    console.log(`http://localhost:${PORT}`);
});
```

```jsx:index.ejs
...
    <h1> <%= title %></h1>
    <h4>GET μ”μ²­</h4>
    <form action="/getForm" method="GET">
        <input type="text" placeholder="id" name="id" required />
        <input type="password" placeholder="pw" name="pw" />
        <button type="submit">μ μ¶</button>
    </form>
    <hr />
    <h4>POST μ”μ²­</h4>
    <form action="/postForm" method="POST">
        <input type="text" placeholder="id" name="id" pattern="^([a-z0-9]){8,12}$"/>
        <input type="password" placeholder="pw" name="pw" readonly/
        <button type="submit">μ μ¶</button>
    </form>
</body>
</html>

// result.ejs
...
<body>
    <h1><%= title %></h1>
    <div><span><%= userInfo.id %></span> λ‹ ν™μν•©λ‹λ‹¤.</div>
    <div>λΉ„λ°€λ²νΈλ”<span><%= userInfo.pw %></span>μ΄κµ°μ”!</div>
    <br />
    <br />
    <a href="/">ν™μΌλ΅ μ΄λ™</a>
</body>
```

- app.getλ¶€λ¶„ λ„λ©”μΈ ν™•μΈν•΄λ³΄μ
- ejsνμΌλ“¤μ action, method λ¶€λ¶„ ν™•μΈν•΄λ³΄μ

## π¨Β μ „μ†΅ μ‹ μ£Όμμ‚¬ν•­

```jsx

...
<body>
    <h1>μ‹¤μµ 26. getμΌλ΅ μ •λ³΄λ°›κΈ°</h1>
    <form action="/getForm" method="GET">
				...
            <legend>μ„±λ³„</legend>
            <input type="radio" name="gender" value="λ‚¨μ" required>λ‚¨μ</input>
            <input type="radio" name="gender" value="μ—¬μ" required>μ—¬μ</input>
        </fieldset>
        <br />
        ...
        <fieldset>
            <legend>κ΄€μ‹¬μ‚¬</legend>
            <input type="checkbox" name="favorite" value="μ—¬ν–‰">μ—¬ν–‰</input>
            <input type="checkbox" name="favorite" value="ν¨μ…">ν¨μ…</input>
            <input type="checkbox" name="favorite" value="μμ‹">μμ‹</input>
        </fieldset>
        <br />
	       ...
        <button type="submit">νμ›κ°€μ…</button>
    </form>
```

- radio, checkboxμ™€ κ°™μ€ μ„ νƒμ μΈ κ±°μ—λ” valueλ¥Ό λ…μ‹ν•΄μ¤μ•Όν•λ‹¤.
- λ‹¤λ¥Έκ±°λ” κ·Έλƒ¥ nameλ§ μ…λ ¥ν•λ©΄λ¨
- λ°±μ—”λ“μ—μ„ λ°›μ•„μ™”μ„ λ• μ΄λ ‡κ² λ³΄μ„ ( name: value)
    
    ![form](https://github.com/cheolung12/blog-static/assets/109952479/969af500-263c-4104-8462-9f0f827756e4)