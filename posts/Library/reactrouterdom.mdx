---
title: 'React-Router-Dom'
date: '2023-09-23'
description: 'CSR, react-router-dom ì‚¬ìš©ë²•'
category: 'Library'
thumbnail: '/thumbnail/react-router.png'
---

## ëª©ì°¨

## ğŸ“Œ CSRì´ë€?

**ë¼ìš°íŒ…** : ì£¼ì†Œì°½ì— urlì„  ì…ë ¥í•˜ë©´ ì„œë²„ì—ì„œ ìš”ì²­ëœ urlì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒ 

- í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ëœë‹¤ â†’ ìƒˆë¡œìš´ htmlì„ ì„œë²„ì—ì„œ ë°›ì•„ì˜´)

**CSR (Client Side <span className='red-bold'>Routing</span>)** : í˜ì´ì§€ê°€ ì „í™˜ë  ë•Œ urlì€ ì—…ë°ì´íŠ¸ë˜ì§€ë§Œ í˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ ë˜ì§€ ì•ŠëŠ”ë‹¤. 

- ì™„ì „íˆ ìƒˆë¡œìš´ htmlì„ ë°›ì•„ì˜¤ëŠ”ê²Œ ì•„ë‹Œ í•´ë‹¹ í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ë°›ì•„ì˜¨ë‹¤.
- í˜ì´ì§€ëŠ” ìœ ì§€í•˜ë˜, ë¶€ë¶„ì ìœ¼ë¡œ ë‚´ê°€ ì›í•˜ëŠ” ë¶€ë¶„ë§Œ ì—…ë°ì´íŠ¸í•¨

## ğŸ“šÂ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•™ìŠµë²•

<span className='blue-bold'>ê³µì‹ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•˜ëŠ”ê²Œ ê°€ì¥ ì¤‘ìš”!</span>

1. í™ˆí˜ì´ì§€ í™•ì¸ : ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ì „ë°˜ì ì¸ ì´í•´
2. Getting Started í˜ì´ì§€ í›‘ì–´ë³´ê¸° : ì‚¬ìš©ë²•, ê¸°ëŠ¥ íŒŒì•…
3. ì™¸ìš¸ í•„ìš” âŒ!  í•„ìš”í•  ë•Œ ë§ˆë‹¤ ì°¸ê³ ë§Œ!
4. ì„¸ë¶€ ì‚¬í•­ë“¤ í™•ì¸ (Hooks, API ë“±ë“±..)

## ğŸ§‘ğŸ»â€ğŸ’»Â React-Router-Dom ì‚¬ìš©ë²•

### 1. ë¼ìš°í„° ì„¤ì •

```jsx:index.js
const router = createBrowserRouter([
  {
    path: '/',
    element: <App />,
    errorElement: <NotFound />,
    children: [
      { index: true, element: <Videos /> }, // indexê°€ ìµœìƒìœ„ì¸ ê²½ìš°
      { path: 'videos', element: <Videos /> },
      { path: 'videos/:keyword', element: <Videos /> },
      { path: 'videos/watch/:videoId', element: <VideoDetail />}
    ],
  },
]);

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <RouterProvider router={router} /> 
  </React.StrictMode>
);
```

- `const router = createBrowserRouter ...`
    
    pathë¼ëŠ” ë£¨íŠ¸ ìš”ì†Œ ì•ˆì— ìì‹ì´ ìˆë‹¤. ìì‹ë“¤ì˜ ìµœìƒìœ„ ê²½ë¡œëŠ” home, ê²½ë¡œê°€ /videos ë¼ë©´ video ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì£¼ê³ , videoId ê°€ ë’¤ì— ë¶™ìœ¼ë©´ VideoDetail ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤.
    

### 2. **Outlet**

```jsx:App.js
import './App.css';
import { Outlet } from 'react-router-dom';

function App() {
  return (
    <>
      <Outlet />
    </>
  );
}

export default App;
```

- í•´ë‹¹ ë¶€ëª¨ ë¼ìš°íŠ¸ì˜ URLê³¼ ì¼ì¹˜í•˜ëŠ” ìì‹ ë¼ìš°íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§
- contextë¥¼ ì´ìš©í•˜ì—¬ ìì‹ ë¼ìš°íŠ¸ì— ë°ì´í„° ì „ì†¡ ê°€ëŠ¥. ìì‹ ë¼ìš°íŠ¸ì—ì„œëŠ” `useOutletContext()` ì‚¬ìš©
- Navbarë“± ë ˆì´ì•„ì›ƒ ê³ ì •í•´ë‘ê³  ë‚´ìš©ë¬¼ë§Œ ë°”ë€Œê²Œ í•˜ê³  ì‹¶ë‹¤ë©´! â†’ `<Outlet />` ì‚¬ìš©
- Navbar ì•„ë˜ì— Outletì„ í†µí•´ í˜ì´ì§€ê°€ ë Œë”ë§ëœë‹¤.

### 3. **Link**

```jsx:Navbar.jsx
import React from 'react';
import { Link } from 'react-router-dom';

export default function Navbar() {
    return (
        <nav>
            <Link to='/'>Home</Link>
            <Link to='/videos'>Videos</Link>
        </nav>
    );
}
```

- `<Link>` : react-router-domì—ì„œ ì œê³µ, a íƒœê·¸ì™€ ìœ ì‚¬, í˜ì´ì§€ ë‚´ì—ì„œ ë¼ìš°íŒ… í•˜ê²Œ í•´ì¤Œ <span className='red-bold'>(ìƒˆë¡œê³ ì¹¨ x)</span>

### 4. **Navigate**

```jsx:Videos.jsx
import { useNavigate } from 'react-router-dom';
export default function Videos() {
	
...

	// navigate ì„ ì–¸
  const navigate = useNavigate();

	const handleSubmit = (e) => {
    e.preventDefault();
    setText("");
    navigate(`/videos/${text}`);   // navigate ì‚¬ìš©
  }

  return (
    <div>
      Videos
      <form onSubmit={handleSubmit}>
        <input type="text" placeholder="video id:" value={text} onChange={handleChange}/>
      </form>
    </div>
  );
}
```

- í¼ì´ ì œì¶œë˜ë©´ í˜ì´ì§€ê°€ ì „í™˜ë˜ëŠ” ì½”ë“œ
- ë§í¬ë¥¼ í´ë¦­í•´ì„œê°€ ì•„ë‹Œ ì½”ë“œ ìƒì—ì„œ ë™ì ìœ¼ë¡œ ì´ë™í•˜ê³  ì‹¶ë‹¤ â‡’  `Navigate`
    
    ex) idë¥¼ í™œìš©í•˜ì—¬ ë™ì ìœ¼ë¡œ í˜ì´ì§€ ì´ë™
    

### 5. **Param**

```jsx:VideoDetail.jsx
import React from 'react';
import { useParams } from 'react-router-dom';

export default function VideoDetail() {
    const { videoId } = useParams();

    return (
        <div>
            VideoDetail - {videoId}
        </div>
    );
}
```

- /url/:id ì²˜ëŸ¼, url íŒŒë¼ë¯¸í„°ë¥¼ í†µí•´ ì–»ì€ ë°ì´í„°ëŠ” paramìœ¼ë¡œ ë°›ëŠ”ë‹¤. (êµ¬ì¡°ë¶„í•´í• ë‹¹ í™œìš©í•˜ê¸°)
- íŒŒë¼ë¯¸í„°ê°€ ì—¬ëŸ¬ê°œì¸ ê²½ìš° /product/:id/:name ì²˜ëŸ¼ ì„¤ì •

## useLocationê³¼ useParams

> `useParams` í›…ì€ í˜„ì¬ ê²½ë¡œì˜ URL ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ì¶œí•˜ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. URL ë§¤ê°œë³€ìˆ˜ëŠ” ë™ì ìœ¼ë¡œ ë³€ê²½ë  ìˆ˜ ìˆëŠ” ê²½ë¡œ ì„¸ê·¸ë¨¼íŠ¸ì˜ ê°’ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `/users/:id`ì™€ ê°™ì€ ê²½ë¡œê°€ ìˆë‹¤ë©´, `useParams`ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ê²½ë¡œì˜ `id` ë§¤ê°œë³€ìˆ˜ ê°’ì„ ì¶”ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ê²½ë¡œì— ë”°ë¼ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê±°ë‚˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> `useLocation` í›…ì€ í˜„ì¬ ìœ„ì¹˜ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ ì •ë³´ì—ëŠ” í˜„ì¬ URL, ê²½ë¡œ, ê²€ìƒ‰ ì¿¼ë¦¬ ë§¤ê°œë³€ìˆ˜ ë“±ì´ í¬í•¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í›…ì„ ì‚¬ìš©í•˜ì—¬ í˜„ì¬ ê²½ë¡œì— ë”°ë¼ ë‹¤ë¥¸ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê±°ë‚˜ ë¼ìš°íŠ¸ ì „í™˜ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
function ProductDetail(props) {
  const location = useLocation();
  console.log(location);
  
  return (
    ...
  )
}

// console.logì˜ ê²°ê³¼ ê°’ì€ ì•„ë˜ì™€ ê°™ë‹¤.

{
  pathname: '/product/1',
  search: '',
  hash: '',
  state: null,
  key: 'default'
}
```